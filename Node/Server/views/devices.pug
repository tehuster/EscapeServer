html
  head        
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')

    title=EscapeServer

    script(src="/socket.io/socket.io.js")
    script(defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js")

    script(defer src="Main.js")
    script(defer src="Devices.js")
    //- script(defer src="RequestHandler.js")    
    //- script(defer src="webmidi.min.js")
    //- script(defer src="MidiManager.js")


    //- script(defer src="webmidi.min.js")
    //- script(defer src="midiHandler.js")          

    link(rel='stylesheet', href='bulma.css', type='text/css')
    link(rel='stylesheet', href='css/devices.css', type='text/css')

  body 
    div(class="mainContainer")
      div(class="topContainer")
      div(class="centerContainer")
        each device in devices
          div(class="deviceContainer")            
            p(id=`device_${device.id}`)=device.device_room
            p(id=`device_${device.id}`)=device.device_name
            p(id=`device_${device.id}`)=device.device_description
            div(class="actions")
                p Actions:
                  each action in device.actions   
                    div(class="configContainer box field has-addons has-addons-centered")    
                      p(class="control")            
                        a(class="button is-primary" onClick=`RequestAction("${device.device_name}","${action.action_name}",${action.id})`)=action.action_name
                      if action.action_parameter_type
                        p(class="control")
                          input(id=`parameter_${action.id}` class="input is-primary" type="text" placeholder="parameter")
            div(class="configs")
              p Configs:
                each config in device.configs
                    a(class="button is-primary" onClick=`GETConfig("${config.config_name}")`)=`GET ${config.config_name}`
                    a(class="button is-primary" onClick=`SETConfig("${config.config_name}")`)=`SET ${config.config_name}`
            div(class="events")
               p Events:
                each event in device.events
                    a(class="button is-primary")=`Event: ${event.event_name}`
            p(class="control")
              a(class="button is-primary" onClick=`RemoveDevice(${device.id})`) Remove
            div(class="actionContainer box field has-addons has-addons-centered")
              p(class="control")
                input(id=`action_name_${device.id}` class="input is-primary" type="text" placeholder="Action name")
              p(class="control")
                input(id=`action_parameter_${device.id}` class="input is-primary" type="text" placeholder="Parameter")
              p(class="control")
                input(id=`action_public_${device.id}` class="checkbox is-primary" type="checkbox")
              p(class="control")
                a(class="button is-primary" onClick=`AddAction(${device.id})`) Add
            div(class="configContainer box field has-addons has-addons-centered")
              p(class="control")
                input(id=`config_name_${device.id}` class="input is-primary" type="text" placeholder="Config name")
              p(class="control")
                input(id=`config_public_${device.id}` class="checkbox is-primary" type="checkbox")
              p(class="control")
                a(class="button is-primary" onClick=`AddConfig(${device.id})`) Add
            div(class="eventContainer box field has-addons has-addons-centered")
              p(class="control")
                input(id=`event_name_${device.id}` class="input is-primary" type="text" placeholder="Event name")
              p(class="control")
                a(class="button is-primary" onClick=`AddEvent(${device.id})`) Add
      div(class="bottomContainer")
        div(class="field has-addons has-addons-centered")  
          p(class="control")
            span(class="select")
              select(id="room")
                option Cake
                option Jan               
          p(class="control")
            input(id="name" class="input is-primary" type="text" placeholder="Name")           
          p(class="control")
            input(id="description" class="input is-primary" type="text" placeholder="Description")
          p(class="control")
            //- input(id="config" class="input is-primary" type="text" placeholder="Config")
          p(class="control")
            //- input(id="actions" class="input is-primary" type="text" placeholder="Action")                
          p(class="control")
            a(class="button is-primary" onClick="AddDevice()") Add

        