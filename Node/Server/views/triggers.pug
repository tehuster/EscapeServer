html
  head        
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')

    title=EscapeServer

    script(src="/socket.io/socket.io.js")
    script(defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js")

    script(defer src="Main.js")
    script(defer src="Triggers.js")
    //- script(defer src="RequestHandler.js")    
    //- script(defer src="webmidi.min.js")
    //- script(defer src="MidiManager.js")

    //- script(defer src="webmidi.min.js")
    //- script(defer src="midiHandler.js")          

    link(rel='stylesheet', href='bulma.css', type='text/css')
    link(rel='stylesheet', href='css/triggers.css', type='text/css')

  body 
    div(class="mainContainer")
      div(class="topContainer")
      div(class="centerContainer")
        each trigger in triggers
          div(class="triggerContainer")            
            p(id=`trigger_${trigger.id}`)=trigger.trigger_name
            p Input:
                p(id=`trigger_${trigger.id}`)=trigger.iDevice
                p(id=`trigger_${trigger.id}`)=trigger.event
            p Output:
                p(id=`trigger_${trigger.id}`)=trigger.oDevice
                p(id=`trigger_${trigger.id}`)=trigger.action  
                p(id=`trigger_${trigger.id}`)=trigger.parameter     
            p(class="control")
                a(class="button is-primary" onClick=`RemoveTrigger(${trigger.id})`) Remove   

      div(class="bottomContainer")
        div(class="field has-addons has-addons-centered")  
            p(class="control")
                input(id="name" class="input is-primary" type="text" placeholder="Name")      
            p(class="control")
                span(class="select")
                    select(id="iDevice")
                        each device in devices
                            option(value=`${device.device_name}`)= device.device_name
            p(class="control")
                span(class="select")
                    select(id="event")
                        each device in devices
                            each event in device.events
                                option= event.event_name                           
            p(class="control")
                span(class="select")
                    select(id="oDevice")
                        each device in devices  
                            option(value=`${device.device_name}`)= device.device_name                                  
            p(class="control")
                span(class="select")
                    select(id="action")
                        each device in devices
                            each action in device.actions
                                option= action.action_name
            p(class="control")
                input(id="parameter" class="input is-primary" type="text" placeholder="Parameter")  
            p(class="control")
                input(id="delay_time" class="input is-primary" type="number" placeholder="0" value=0)          
            p(class="control")
                a(class="button is-primary" onClick="AddTrigger()") Add

        